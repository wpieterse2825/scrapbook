load("@rules_python//python:defs.bzl", "py_test")
load(":skylark.bzl", "skylark_test_suite")

skylark_test_suite(
    name = "skylark",
)

sh_test(
    name = "driver",
    srcs = ["driver.sh"],
    data = ["//idl_compiler/generator/c:driver"],
    deps = [
        "//third_party/bazel_shell_test:unit_test",
        "@bazel_tools//tools/bash/runfiles",
    ],
)

py_test(
    name = "generator",
    srcs = ["generator.py"],
    deps = ["//idl_compiler/generator/c:generator"],
)

sh_test(
    name = "integration",
    srcs = ["integration.sh"],
    deps = [
        "//third_party/bazel_shell_test:unit_test",
        "@bazel_tools//tools/bash/runfiles",
    ],
)
